{"version":3,"sources":["components/TodoList/TodoList.tsx","api.ts","components/CurrentUser/CurrentUser.tsx","App.tsx","index.tsx"],"names":["TodoList","todos","setSelectedUserId","useState","filterByTitle","setFilterByTitle","isComplete","setIsComplete","visibleTodos","setVisibleTodos","useEffect","filter","todo","titleToLower","title","toLowerCase","filterByTitleToLower","includes","completed","className","type","value","onChange","target","name","map","item","checked","readOnly","onClick","userId","id","BASE_URL","getTodosFromServer","a","fetch","response","json","getUserFromServer","CurrentUser","React","memo","clearUser","currentUser","setCurrentUser","isLoadingError","setLoadingError","getUser","useCallback","newUser","email","phone","App","selectedUserId","setTodos","getTodos","todosFromServer","ReactDOM","render","document","getElementById"],"mappings":"uUAQaA,EAA4B,SAAC,GAAkC,IAAhCC,EAA+B,EAA/BA,MAAOC,EAAwB,EAAxBA,kBACjD,EAA0CC,mBAAiB,IAA3D,mBAAOC,EAAP,KAAsBC,EAAtB,KACA,EAAoCF,mBAAS,YAA7C,mBAAOG,EAAP,KAAmBC,EAAnB,KACA,EAAwCJ,mBAASF,GAAjD,mBAAOO,EAAP,KAAqBC,EAArB,KA+BA,OA7BAC,qBAAU,WACRD,EACER,EAAMU,QAAO,SAACC,GACZ,IAAMC,EAAeD,EAAKE,MAAMC,cAC1BC,EAAuBZ,EAAcW,cAE3C,OAAQT,GACN,IAAK,WACH,OAAOO,EAAaI,SAASD,GAE/B,IAAK,gBACH,OACEH,EAAaI,SAASD,KACA,IAAnBJ,EAAKM,UAGZ,IAAK,YACH,OACEL,EAAaI,SAASD,KACA,IAAnBJ,EAAKM,UAGZ,QACE,OAAON,SAId,CAACR,EAAeE,EAAYL,IAG7B,sBAAKkB,UAAU,WAAf,UACE,wCAEA,sBAAKA,UAAU,iBAAf,UACE,wBAAOA,UAAU,kBAAjB,2BAEE,uBACEA,UAAU,kBACVC,KAAK,OACLC,MAAOjB,EACPkB,SAAU,YAAiB,IAAdC,EAAa,EAAbA,OACXlB,EAAiBkB,EAAOF,aAK9B,wBAAOF,UAAU,kBAAjB,4BAEE,yBACEA,UAAU,kBACVK,KAAK,cACLF,SAAU,YAAiB,IAAdC,EAAa,EAAbA,OACXhB,EAAcgB,EAAOF,QAJzB,UAOE,wBAAQA,MAAM,WAAd,sBAEA,wBAAQA,MAAM,gBAAd,2BAEA,wBAAQA,MAAM,YAAd,gCAKN,qBAAKF,UAAU,2BAAf,SACE,oBAAIA,UAAU,iBAAd,SACGX,EAAaiB,KAAI,SAACC,GACjB,OACE,qBAEEP,UAAS,4DACWO,EAAKR,UAAY,UAAY,aAHnD,UAKE,kCACE,uBAAOS,QAASD,EAAKR,UAAWE,KAAK,WAAWQ,UAAQ,IACxD,4BAAIF,EAAKZ,WAGX,yBACEK,UAAU,gEAIVC,KAAK,SACLS,QAAS,kBAAM3B,EAAkBwB,EAAKI,SANxC,sBASGJ,EAAKI,YAlBHJ,EAAKK,eC/EpBC,EAAW,oCAEJC,EAAkB,uCAAG,4BAAAC,EAAA,sEACTC,MAAM,GAAD,OAAIH,EAAJ,WADI,cAC1BI,EAD0B,yBAGzBA,EAASC,QAHgB,2CAAH,qDAMlBC,EAAiB,uCAAG,WAAOP,GAAP,eAAAG,EAAA,sEACRC,MAAM,GAAD,OAAIH,EAAJ,kBAAsBD,IADnB,cACzBK,EADyB,yBAGxBA,EAASC,QAHe,2CAAH,sDCFjBE,G,MAA+BC,IAAMC,MAAK,YAGhD,IAFLX,EAEI,EAFJA,OACAY,EACI,EADJA,UAEA,EAAsCvC,mBAAsB,MAA5D,mBAAOwC,EAAP,KAAoBC,EAApB,KACA,EAA0CzC,oBAAS,GAAnD,mBAAO0C,EAAP,KAAuBC,EAAvB,KAEMC,EAAUC,sBAAW,sBAAC,4BAAAd,EAAA,+EAEFI,EAAkBR,GAFhB,OAElBmB,EAFkB,OAIxBH,GAAgB,GAChBF,EAAeK,GALS,gDAOxBL,EAAe,MACfE,GAAgB,GARQ,yDAUzB,CAAChB,IAMJ,OAJApB,qBAAU,WACRqC,MACC,CAACjB,IAGF,qCACGa,GACC,sBAAKxB,UAAU,cAAf,UACE,oBAAIA,UAAU,qBAAd,SACE,wDACqBwB,EAAYZ,QAInC,oBAAIZ,UAAU,oBAAd,SACGwB,EAAYnB,OAEf,mBAAGL,UAAU,qBAAb,SACGwB,EAAYO,QAEf,mBAAG/B,UAAU,qBAAb,SACGwB,EAAYQ,QAGf,wBACE/B,KAAK,SACLD,UAAU,qBACVU,QAASa,EAHX,sBAUHG,GACC,qBAAK1B,UAAU,cAAf,SACE,oBAAIA,UAAU,qBAAd,SACE,gECbGiC,EA7CO,WACpB,MAGIjD,mBAAS,GAHb,mBACEkD,EADF,KAEEnD,EAFF,KAKA,EAA0BC,mBAAiB,IAA3C,mBAAOF,EAAP,KAAcqD,EAAd,KAEMZ,EAAYM,uBAAY,WAC5B9C,EAAkB,KACjB,IAEGqD,EAAQ,uCAAG,4BAAArB,EAAA,sEACeD,IADf,OACTuB,EADS,OAGfF,EAASE,GAHM,2CAAH,qDAUd,OAJA9C,qBAAU,WACR6C,MACC,IAGD,sBAAKpC,UAAU,MAAf,UACE,qBAAKA,UAAU,eAAf,SACE,cAAC,EAAD,CACElB,MAAOA,EACPC,kBAAmBA,MAIvB,qBAAKiB,UAAU,eAAf,SACE,qBAAKA,UAAU,yBAAf,SACGkC,EACC,cAAC,EAAD,CACEvB,OAAQuB,EACRX,UAAWA,IAEX,2BC1Cde,IAASC,OACP,cAAC,EAAD,IACAC,SAASC,eAAe,W","file":"static/js/main.14cd5979.chunk.js","sourcesContent":["import { Dispatch, useEffect, useState } from 'react';\nimport './TodoList.scss';\n\ninterface Props {\n  todos: Todo[];\n  setSelectedUserId: Dispatch<number>;\n}\n\nexport const TodoList: React.FC<Props> = ({ todos, setSelectedUserId }) => {\n  const [filterByTitle, setFilterByTitle] = useState<string>('');\n  const [isComplete, setIsComplete] = useState('show all');\n  const [visibleTodos, setVisibleTodos] = useState(todos);\n\n  useEffect(() => {\n    setVisibleTodos(\n      todos.filter((todo) => {\n        const titleToLower = todo.title.toLowerCase();\n        const filterByTitleToLower = filterByTitle.toLowerCase();\n\n        switch (isComplete) {\n          case 'show all':\n            return titleToLower.includes(filterByTitleToLower);\n\n          case 'not completed':\n            return (\n              titleToLower.includes(filterByTitleToLower)\n              && todo.completed === false\n            );\n\n          case 'completed':\n            return (\n              titleToLower.includes(filterByTitleToLower)\n              && todo.completed === true\n            );\n\n          default:\n            return todo;\n        }\n      }),\n    );\n  }, [filterByTitle, isComplete, todos]);\n\n  return (\n    <div className=\"TodoList\">\n      <h2>Todos:</h2>\n\n      <div className=\"TodoList__sort\">\n        <label className=\"TodoList__label\">\n          Sort by title:\n          <input\n            className=\"TodoList__input\"\n            type=\"text\"\n            value={filterByTitle}\n            onChange={({ target }) => {\n              setFilterByTitle(target.value);\n            }}\n          />\n        </label>\n\n        <label className=\"TodoList__label\">\n          Sort by status:\n          <select\n            className=\"TodoList__input\"\n            name=\"isCompleted\"\n            onChange={({ target }) => {\n              setIsComplete(target.value);\n            }}\n          >\n            <option value=\"show all\">Show all</option>\n\n            <option value=\"not completed\">Not completed</option>\n\n            <option value=\"completed\">Completed</option>\n          </select>\n        </label>\n      </div>\n\n      <div className=\"TodoList__list-container\">\n        <ul className=\"TodoList__list\">\n          {visibleTodos.map((item) => {\n            return (\n              <li\n                key={item.id}\n                className={`TodoList__item\n                  TodoList__item--${item.completed ? 'checked' : 'unchecked'}`}\n              >\n                <label>\n                  <input checked={item.completed} type=\"checkbox\" readOnly />\n                  <p>{item.title}</p>\n                </label>\n\n                <button\n                  className=\"\n                    TodoList__user-button\n                    TodoList__user-button--selected\n                    button\"\n                  type=\"button\"\n                  onClick={() => setSelectedUserId(item.userId)}\n                >\n                  User&nbsp;#\n                  {item.userId}\n                </button>\n              </li>\n            );\n          })}\n        </ul>\n      </div>\n    </div>\n  );\n};\n","import { User } from './Types/User';\nimport { Todo } from './Types/Todo';\n\nconst BASE_URL = 'https://mate.academy/students-api';\n\nexport const getTodosFromServer = async (): Promise<Todo[]> => {\n  const response = await fetch(`${BASE_URL}/todos`);\n\n  return response.json();\n};\n\nexport const getUserFromServer = async (id: number): Promise<User> => {\n  const response = await fetch(`${BASE_URL}/users/${id}`);\n\n  return response.json();\n};\n","import React, { useState, useEffect, useCallback } from 'react';\nimport { getUserFromServer } from '../../api';\nimport './CurrentUser.scss';\n\ntype Props = {\n  userId: number,\n  clearUser: () => void,\n};\n\nexport const CurrentUser: React.FC<Props> = React.memo(({\n  userId,\n  clearUser,\n}) => {\n  const [currentUser, setCurrentUser] = useState<User | null>(null);\n  const [isLoadingError, setLoadingError] = useState(false);\n\n  const getUser = useCallback(async () => {\n    try {\n      const newUser = await getUserFromServer(userId);\n\n      setLoadingError(false);\n      setCurrentUser(newUser);\n    } catch {\n      setCurrentUser(null);\n      setLoadingError(true);\n    }\n  }, [userId]);\n\n  useEffect(() => {\n    getUser();\n  }, [userId]);\n\n  return (\n    <>\n      {currentUser && (\n        <div className=\"CurrentUser\">\n          <h2 className=\"CurrentUser__title\">\n            <span>\n              {`Selected user: ${currentUser.id}`}\n            </span>\n          </h2>\n\n          <h3 className=\"CurrentUser__name\">\n            {currentUser.name}\n          </h3>\n          <p className=\"CurrentUser__email\">\n            {currentUser.email}\n          </p>\n          <p className=\"CurrentUser__phone\">\n            {currentUser.phone}\n          </p>\n\n          <button\n            type=\"button\"\n            className=\"CurrentUser__clear\"\n            onClick={clearUser}\n          >\n            Clear\n          </button>\n        </div>\n      )}\n\n      {isLoadingError && (\n        <div className=\"CurrentUser\">\n          <h2 className=\"CurrentUser__title\">\n            <span>\n              Please, try again\n            </span>\n          </h2>\n        </div>\n      )}\n    </>\n  );\n});\n","import React, { useState, useEffect, useCallback } from 'react';\nimport './App.scss';\nimport './styles/general.scss';\nimport { TodoList } from './components/TodoList';\nimport { CurrentUser } from './components/CurrentUser';\nimport { getTodosFromServer } from './api';\n\nconst App: React.FC = () => {\n  const [\n    selectedUserId,\n    setSelectedUserId,\n  ] = useState(0);\n\n  const [todos, setTodos] = useState<Todo[]>([]);\n\n  const clearUser = useCallback(() => {\n    setSelectedUserId(0);\n  }, []);\n\n  const getTodos = async () => {\n    const todosFromServer = await getTodosFromServer();\n\n    setTodos(todosFromServer);\n  };\n\n  useEffect(() => {\n    getTodos();\n  }, []);\n\n  return (\n    <div className=\"App\">\n      <div className=\"App__sidebar\">\n        <TodoList\n          todos={todos}\n          setSelectedUserId={setSelectedUserId}\n        />\n      </div>\n\n      <div className=\"App__content\">\n        <div className=\"App__content-container\">\n          {selectedUserId ? (\n            <CurrentUser\n              userId={selectedUserId}\n              clearUser={clearUser}\n            />\n          ) : 'No user selected'}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}